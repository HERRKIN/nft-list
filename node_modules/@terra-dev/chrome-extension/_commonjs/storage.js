"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clearStore = exports.storeAddress = exports.getStoredAddress = exports.WALLET_ADDRESS = exports.storage = void 0;
const terra_js_1 = require("@terra-money/terra.js");
exports.storage = typeof window === 'undefined' ? undefined : localStorage;
exports.WALLET_ADDRESS = '__terra_chrome_extension_wallet_address__';
function getStoredAddress() {
    const address = exports.storage === null || exports.storage === void 0 ? void 0 : exports.storage.getItem(exports.WALLET_ADDRESS);
    return address && terra_js_1.AccAddress.validate(address) ? address : null;
}
exports.getStoredAddress = getStoredAddress;
function storeAddress(address) {
    if (!terra_js_1.AccAddress.validate(address)) {
        throw new Error(`${address} is invalidate terra address!`);
    }
    exports.storage && exports.storage.setItem(exports.WALLET_ADDRESS, address);
}
exports.storeAddress = storeAddress;
function clearStore() {
    exports.storage && exports.storage.removeItem(exports.WALLET_ADDRESS);
}
exports.clearStore = clearStore;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9AdGVycmEtZGV2L2Nocm9tZS1leHRlbnNpb24vc3RvcmFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxvREFBbUQ7QUFFdEMsUUFBQSxPQUFPLEdBQUcsT0FBTyxNQUFNLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztBQUVuRSxRQUFBLGNBQWMsR0FDekIsMkNBQTJDLENBQUM7QUFFOUMsU0FBZ0IsZ0JBQWdCO0lBQzlCLE1BQU0sT0FBTyxHQUFHLGVBQU8sYUFBUCxlQUFPLHVCQUFQLGVBQU8sQ0FBRSxPQUFPLENBQUMsc0JBQWMsQ0FBQyxDQUFDO0lBQ2pELE9BQU8sT0FBTyxJQUFJLHFCQUFVLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNsRSxDQUFDO0FBSEQsNENBR0M7QUFFRCxTQUFnQixZQUFZLENBQUMsT0FBZTtJQUMxQyxJQUFJLENBQUMscUJBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDakMsTUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLE9BQU8sK0JBQStCLENBQUMsQ0FBQztLQUM1RDtJQUVELGVBQU8sSUFBSSxlQUFPLENBQUMsT0FBTyxDQUFDLHNCQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDdEQsQ0FBQztBQU5ELG9DQU1DO0FBRUQsU0FBZ0IsVUFBVTtJQUN4QixlQUFPLElBQUksZUFBTyxDQUFDLFVBQVUsQ0FBQyxzQkFBYyxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUZELGdDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWNjQWRkcmVzcyB9IGZyb20gJ0B0ZXJyYS1tb25leS90ZXJyYS5qcyc7XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBsb2NhbFN0b3JhZ2U7XG5cbmV4cG9ydCBjb25zdCBXQUxMRVRfQUREUkVTUzogc3RyaW5nID1cbiAgJ19fdGVycmFfY2hyb21lX2V4dGVuc2lvbl93YWxsZXRfYWRkcmVzc19fJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZEFkZHJlc3MoKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGFkZHJlc3MgPSBzdG9yYWdlPy5nZXRJdGVtKFdBTExFVF9BRERSRVNTKTtcbiAgcmV0dXJuIGFkZHJlc3MgJiYgQWNjQWRkcmVzcy52YWxpZGF0ZShhZGRyZXNzKSA/IGFkZHJlc3MgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVBZGRyZXNzKGFkZHJlc3M6IHN0cmluZykge1xuICBpZiAoIUFjY0FkZHJlc3MudmFsaWRhdGUoYWRkcmVzcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7YWRkcmVzc30gaXMgaW52YWxpZGF0ZSB0ZXJyYSBhZGRyZXNzIWApO1xuICB9XG5cbiAgc3RvcmFnZSAmJiBzdG9yYWdlLnNldEl0ZW0oV0FMTEVUX0FERFJFU1MsIGFkZHJlc3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTdG9yZSgpIHtcbiAgc3RvcmFnZSAmJiBzdG9yYWdlLnJlbW92ZUl0ZW0oV0FMTEVUX0FERFJFU1MpO1xufVxuIl19