{"ast":null,"code":"import { ConnectType } from '@terra-dev/use-wallet';\nconst interval = 500;\nexport async function checkAvailableExtension(timeout, isChromeExtensionCompatibleBrowser) {\n  return new Promise(resolve => {\n    if (isChromeExtensionCompatibleBrowser) {\n      resolve(ConnectType.CHROME_EXTENSION);\n      return;\n    }\n\n    const start = Date.now();\n\n    function check() {\n      const meta = window.document.querySelector('head > meta[name=\"terra-web-connect\"]');\n\n      if (typeof (meta === null || meta === void 0 ? void 0 : meta.getAttribute('connected')) === 'string') {\n        resolve(ConnectType.WEB_CONNECT);\n      } else if (window['isTerraExtensionAvailable'] === true) {\n        resolve(ConnectType.CHROME_EXTENSION);\n      } else if (Date.now() > start + timeout) {\n        resolve(null);\n      } else {\n        setTimeout(check, interval);\n      }\n    }\n\n    setTimeout(check, interval);\n  });\n}","map":{"version":3,"sources":["../../../../src/@terra-money/wallet-provider/utils/checkAvailableExtension.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,QAA4B,uBAA5B;AAEA,MAAM,QAAQ,GAAG,GAAjB;AAEA,OAAO,eAAe,uBAAf,CACL,OADK,EAEL,kCAFK,EAEsC;AAE3C,SAAO,IAAI,OAAJ,CAEJ,OAAD,IAAY;AACZ,QAAI,kCAAJ,EAAwC;AACtC,MAAA,OAAO,CAAC,WAAW,CAAC,gBAAb,CAAP;AACA;AACD;;AAED,UAAM,KAAK,GAAG,IAAI,CAAC,GAAL,EAAd;;AAEA,aAAS,KAAT,GAAc;AACZ,YAAM,IAAI,GAAG,MAAM,CAAC,QAAP,CAAgB,aAAhB,CACX,uCADW,CAAb;;AAIA,UAAI,QAAO,IAAI,KAAA,IAAJ,IAAA,IAAI,KAAA,KAAA,CAAJ,GAAI,KAAA,CAAJ,GAAA,IAAI,CAAE,YAAN,CAAmB,WAAnB,CAAP,MAA2C,QAA/C,EAAyD;AACvD,QAAA,OAAO,CAAC,WAAW,CAAC,WAAb,CAAP;AACD,OAFD,MAEO,IAAI,MAAM,CAAC,2BAAD,CAAN,KAAwC,IAA5C,EAAkD;AACvD,QAAA,OAAO,CAAC,WAAW,CAAC,gBAAb,CAAP;AACD,OAFM,MAEA,IAAI,IAAI,CAAC,GAAL,KAAa,KAAK,GAAG,OAAzB,EAAkC;AACvC,QAAA,OAAO,CAAC,IAAD,CAAP;AACD,OAFM,MAEA;AACL,QAAA,UAAU,CAAC,KAAD,EAAQ,QAAR,CAAV;AACD;AACF;;AAED,IAAA,UAAU,CAAC,KAAD,EAAQ,QAAR,CAAV;AACD,GA3BM,CAAP;AA4BD","sourcesContent":["import { ConnectType } from '@terra-dev/use-wallet';\n\nconst interval = 500;\n\nexport async function checkAvailableExtension(\n  timeout: number,\n  isChromeExtensionCompatibleBrowser: boolean,\n): Promise<ConnectType.CHROME_EXTENSION | ConnectType.WEB_CONNECT | null> {\n  return new Promise<\n    ConnectType.CHROME_EXTENSION | ConnectType.WEB_CONNECT | null\n  >((resolve) => {\n    if (isChromeExtensionCompatibleBrowser) {\n      resolve(ConnectType.CHROME_EXTENSION);\n      return;\n    }\n\n    const start = Date.now();\n\n    function check() {\n      const meta = window.document.querySelector(\n        'head > meta[name=\"terra-web-connect\"]',\n      );\n\n      if (typeof meta?.getAttribute('connected') === 'string') {\n        resolve(ConnectType.WEB_CONNECT);\n      } else if (window['isTerraExtensionAvailable'] === true) {\n        resolve(ConnectType.CHROME_EXTENSION);\n      } else if (Date.now() > start + timeout) {\n        resolve(null);\n      } else {\n        setTimeout(check, interval);\n      }\n    }\n\n    setTimeout(check, interval);\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}